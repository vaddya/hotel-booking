\include{settings}

\begin{document}

\include{titlepage}

\tableofcontents
\newpage

\section{Цель работы}

Познакомиться с основами проектирования схемы БД, способами организации данных в SQL-БД.

\section{Программа работы}

\begin{enumerate}
	\item Создание проекта для работы в GitLab.
	\item Выбор задания (предметной области), описание набора данных и требований к хранимым данным в свободном формате в Wiki своего проекта в GitLab.
	\item Формирование в свободном формате (предпочтительно в виде графической схемы) схемы БД, соответствующей заданию. Должно получиться не менее 7 таблиц.
	\item Согласование с преподавателем схемы БД. Обоснование принятых решений и соответствия требованиям выбранного задания. 
	\item Выкладывание схемы БД в свой проект в GitLab.
	\item Демонстрация результатов преподавателю.
\end{enumerate}

\section{Выполнение работы}


\subsection{Выбор предметной области}

В качестве предметной области была выбрана система онлайн-бронирования отелей. База данных такой системы хранит информацию об отелях, доступных в них номерах и предоставляемых удобствах, ценах на определенные даты, бронированиях и отзывах.

\subsection{Описание таблиц}

В процессе проектирования схемы базы данных были выделены следующие сущности:
\begin{itemize}
	\item \code{price} -- хранит информацию о цене \code{price} в период с \code{from} по \code{to} за сутки в номере с типом \code{room_type_id} (например, с 01.10.2018 по 31.10.2018 сутки проживания в номере с типом 123 стоят 4567 рублей).
	
	\item \code{room_type} -- хранит информацию о типе номера \code{type} в отеле \code{hotel_id}: вместимость \code{capacity} и описание \code{description} (например, двухместный <<номер для некурящих с 2 кроватями размера king-size>> в отеле <<Гранд Будапешт>>).
	
	\item \code{room_facility} -- дополнительная таблица для создания отношения многие ко многим между типом номера \code{room_type_id} и предоставляемым удобством \code{facility_id}.
	
	\item \code{facility} -- хранит информацию о предоставляемом в номере удобстве \code{name} (например, Wi-Fi).
	
	\item \code{hotel} -- хранит информацию об отеле \code{name}: внешний ключ на условия размещения \code{house_rules_id}, адрес \code{address}, количество звезд \code{stars} и текстовое описание \code{description}.
	
	\item \code{room} -- хранит информацию о конкретных номерах с типом \code{room_type_id} (например, номер <<№123>> c типом <<номер для некурящих с 2 кроватями размера king-size>>).
	
	\item \code{reservation} -- хранит информацию о бронировании номера \code{room_id} пользователем \code{user_id} с \code{from} по \code{to}, итоговой цене проживания \code{price} и информацию о совершении платежа \code{is_paid}.
	
	\item \code{cancellation} -- хранит информацию о статусе \code{status} отмены бронирования \code{reservation_id}.
	
	\item \code{house_rules} -- хранит информацию о правилах проживания в отеле: время заезда \code{checkin_from} и отъезда \code{checkout_until} (например, заезд после 15:00, отъезд до 12:00), политика отмены бронирования и возврата средств \code{cancellation_policy} (например, предоплата не возвращается при отмене бронирования меньше за сутки).
	
	\item \code{review} -- хранит плюсы \code{advantages}, минусы \code{disadvantages} и итоговый рейтинг \code{rating} о проживании \code{reservation_id} (например, плюсы: вкусный завтрак, минусы: холодно, итоговый рейтинг: 3 из 5).
	
	\item \code{guest} -- хранит имя гостя \code{name} и информацию о том, является ли он ребенком \code{is_child}, указанную при бронировании \code{reservation_id}.
	
	\item \code{user} -- хранит имя \code{name}, электронную почту \code{email}, hash от пароля \code{password_hash} и номер телефона \code{phone_number} пользователя.
\end{itemize}

\subsection{Структура базы данных}

\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{scheme}
\end{figure}

\section{Выводы}

В ходе выполнения данной работы была спроектирована и согласована с преподавателем база данных для системы онлайн-бронирования отелей. Было выделено несколько основные сущностей, таких как отель, номер, бронирование и пользователь, а также множество вспомогательных таблиц для хранения информации о предоставляемых удобствах, условиях размещения и отзывах.

\end{document}
